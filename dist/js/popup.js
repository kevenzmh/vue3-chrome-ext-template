(function(){"use strict";var s={7446:function(s,t,o){var e=o(3751),n=(o(3110),o(641)),a=o(33);const i={class:"popup-container"},r={class:"content"},c={class:"actions"},u=["disabled"],l={key:0,class:"config-preview"};function f(s,t,o,e,f,h){return(0,n.uX)(),(0,n.CE)("div",i,[t[3]||(t[3]=(0,n.Lk)("div",{class:"header"},[(0,n.Lk)("h3",null,"Google Ads 数据展示修改器"),(0,n.Lk)("p",{class:"subtitle"},"修改页面显示的广告数据")],-1)),(0,n.Lk)("div",r,[(0,n.Lk)("div",{class:(0,a.C4)(["status",f.statusClass])},(0,a.v_)(f.statusMessage),3),(0,n.Lk)("div",c,[(0,n.Lk)("button",{onClick:t[0]||(t[0]=(...s)=>h.startModification&&h.startModification(...s)),disabled:f.isProcessing,class:"btn-primary"},(0,a.v_)(f.isProcessing?"修改中...":"开始修改显示数据"),9,u),(0,n.Lk)("button",{onClick:t[1]||(t[1]=(...s)=>h.showConfig&&h.showConfig(...s)),class:"btn-secondary"}," 查看配置 ")]),f.showConfigData?((0,n.uX)(),(0,n.CE)("div",l,[t[2]||(t[2]=(0,n.Lk)("h4",null,"当前配置:",-1)),(0,n.Lk)("pre",null,(0,a.v_)(JSON.stringify(f.config,null,2)),1)])):(0,n.Q3)("",!0)])])}var h={name:"GoogleAdsModifier",data(){return{statusMessage:"准备就绪",statusClass:"ready",isProcessing:!1,showConfigData:!1,config:{}}},async mounted(){await this.loadConfig(),this.checkCurrentTab()},methods:{async loadConfig(){try{const s=await chrome.storage.local.get(["adsConfig"]);this.config=s.adsConfig||{}}catch(s){console.error("加载配置失败:",s)}},async checkCurrentTab(){try{const s=await chrome.tabs.query({active:!0,currentWindow:!0}),t=s[0];t&&t.url&&t.url.includes("ads.google.com")?(this.statusMessage="已检测到 Google Ads 页面",this.statusClass="ready"):(this.statusMessage="请先打开 Google Ads 页面",this.statusClass="warning")}catch(s){this.statusMessage="无法检测当前页面",this.statusClass="error"}},async startModification(){this.isProcessing=!0,this.statusMessage="正在修改显示数据...",this.statusClass="processing";try{const s=await chrome.tabs.query({active:!0,currentWindow:!0}),t=s[0];if(!t)throw new Error("无法获取当前标签页");if(!t.url||!t.url.includes("ads.google.com"))throw new Error("请先打开 Google Ads 页面");console.log("发送消息到content script...");const o=await chrome.tabs.sendMessage(t.id,{action:"startModification"});if(console.log("收到响应:",o),!o||!o.success)throw new Error(o?.error||"修改失败");this.statusMessage=o.message||"数据修改完成",this.statusClass="success"}catch(s){console.error("修改失败:",s),s.message.includes("Could not establish connection")?this.statusMessage="连接失败：请刷新页面后重试":this.statusMessage="修改失败: "+s.message,this.statusClass="error"}finally{this.isProcessing=!1}},showConfig(){this.showConfigData=!this.showConfigData}}},g=o(6262);const d=(0,g.A)(h,[["render",f],["__scopeId","data-v-3015e72a"]]);var v=d;(0,e.Ef)(v).mount("#app")}},t={};function o(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={exports:{}};return s[e].call(a.exports,a,a.exports,o),a.exports}o.m=s,function(){var s=[];o.O=function(t,e,n,a){if(!e){var i=1/0;for(l=0;l<s.length;l++){e=s[l][0],n=s[l][1],a=s[l][2];for(var r=!0,c=0;c<e.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every(function(s){return o.O[s](e[c])})?e.splice(c--,1):(r=!1,a<i&&(i=a));if(r){s.splice(l--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=s.length;l>0&&s[l-1][2]>a;l--)s[l]=s[l-1];s[l]=[e,n,a]}}(),function(){o.d=function(s,t){for(var e in t)o.o(t,e)&&!o.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:t[e]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(s){if("object"===typeof window)return window}}()}(),function(){o.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)}}(),function(){o.j=887}(),function(){var s={887:0};o.O.j=function(t){return 0===s[t]};var t=function(t,e){var n,a,i=e[0],r=e[1],c=e[2],u=0;if(i.some(function(t){return 0!==s[t]})){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(c)var l=c(o)}for(t&&t(e);u<i.length;u++)a=i[u],o.o(s,a)&&s[a]&&s[a][0](),s[a]=0;return o.O(l)},e=self["webpackChunkvue3_chrome_ext_template"]=self["webpackChunkvue3_chrome_ext_template"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=o.O(void 0,[504],function(){return o(7446)});e=o.O(e)})();
//# sourceMappingURL=popup.js.map